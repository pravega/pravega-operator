{{- $version := .Values.testmode.version }}
{{- $fromVersion := .Values.testmode.fromVersion }}
kind: ConfigMap
apiVersion: v1
metadata:
  name: supported-versions-map
  namespace: {{ .Release.Namespace }}
  labels:
{{ include "pravega-operator.commonLabels" . | indent 4 }}
data:
  keys: |
        {{- if and .Values.testmode.enabled $version }}
        0.1.0:0.1.0
        0.2.0:0.2.0
        0.3.0:0.3.0,0.3.1,0.3.2
        0.3.1:0.3.1,0.3.2
        0.3.2:0.3.2
        0.4.0:0.4.0
        0.5.0:0.5.0,0.5.1,0.6.0,0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.5.1:0.5.1,0.6.0,0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.6.0:0.6.0,0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.6.1:0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.6.2:0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.7.0:0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.7.1:0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.7.2:0.7.2,0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.7.3:0.7.3,0.8.0,0.8.1,0.9.0,{{ $version }}
        0.8.0:0.8.0,0.8.1,0.9.0,{{ $version }}
        0.8.1:0.8.1,0.9.0,{{ $version }}
        0.9.0:0.9.0,{{ $version }}
        {{ $version }}:{{ $version }}
        {{- if $fromVersion }}
        {{ $fromVersion }}:{{ $fromVersion }},{{ $version }}
        {{- end }}
        {{- else }}
        0.1.0:0.1.0
        0.2.0:0.2.0
        0.3.0:0.3.0,0.3.1,0.3.2
        0.3.1:0.3.1,0.3.2
        0.3.2:0.3.2
        0.4.0:0.4.0
        0.5.0:0.5.0,0.5.1,0.6.0,0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.5.1:0.5.1,0.6.0,0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.6.0:0.6.0,0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.6.1:0.6.1,0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.6.2:0.6.2,0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.7.0:0.7.0,0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.7.1:0.7.1,0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.7.2:0.7.2,0.7.3,0.8.0,0.8.1,0.9.0
        0.7.3:0.7.3,0.8.0,0.8.1,0.9.0
        0.8.0:0.8.0,0.8.1,0.9.0
        0.8.1:0.8.1,0.9.0
        0.9.0:0.9.0
        {{- end }}
